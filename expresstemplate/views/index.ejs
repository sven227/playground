<!DOCTYPE html>
<html>

<head>
	<link href="assets/style.css" type="text/css" rel="stylesheet" />
	<title>index main html</title>
	<meta charset="UTF-8">
</head>

<body>
	<h1>Hello world!</h1>

	<!-- send data as text from html form -->
	<form method="POST" action="/person">
		First name: <input type="text" id="firstname" name="firstname" /> <br /> Last name: <input type="text" id="lastname" name="lastname"
		/> <br />
		<input type="submit" value="submit" />
	</form>


	<!-- this is an http post request sending json data in the http request-body -->
	<header>
		<h1>push button to execute a json http post request </h1>
		<button id="btn">send JSON</button>
	</header>

	<div id="json-info">

	</div>


	<script type="text/javascript">
		var btn = document.getElementById('btn');

		btn.addEventListener("click", tuwas); // nicht tuwas() mit klammenn schreiben sonst geht er sofort los! und wartet nicht auf click

		function tuwas() {
			var ourRequest = new XMLHttpRequest();
			ourRequest.open('POST',
				'/personjson', true);

			ourRequest.setRequestHeader('Content-Type', 'application/json');
			
			var ourData = JSON.stringify({ firstname: "Jane", lastname: "Doe" });
			ourRequest.send(ourData);

			ourRequest.onerror = function () {
				console.log("connection error");
				alert("connection error");
			}
		}
	</script>


</body>

</html>